<?xml version="1.0" encoding="utf-8"?>
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
	<PropertyGroup>
		<BuildDependsOn>
			RestoreBowerPkgs;
			$(BuildDependsOn)
		</BuildDependsOn>
		<NodeModulesBower>$(SolutionDir)node_modules\bower\package.json</NodeModulesBower>
	</PropertyGroup>
	<Target Name="InstallBower">
		<Message Text="Installing Bower..."/>
		<Exec Condition=" !Exists('$(NodeModulesBower)')" Command="$(SolutionDir)packages\Npm.js.1.3.15\tools\npm.cmd install bower" WorkingDirectory="$(SolutionDir)" />
		<Message Text="Bower installed!"/>
	</Target>
	<Target Name="RestoreBowerPkgs" DependsOnTargets="InstallBower">
		<Message Text="Restoring Bower packages..."/>
		<Exec Command="$(MSBuildThisFileDirectory)..\tools\bower install"/>
		<Message Text="Bower packages restored!"/>
    </Target>
</Project>